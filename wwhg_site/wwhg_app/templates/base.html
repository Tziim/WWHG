<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WWHG</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
<nav class="one-edge-shadow sticky navbar navbar-expand-lg navbar-light custom-justify-between">
        <div class="search-container ml-auto">
            <form action="/search" method="GET">
            <input type="text" placeholder="Search..." name="q" id="search-input">
            <button type="submit" id="search-button">Search</button>
        </form>
        </div>
            <ul class="navbar-nav">
                <li>
                    {% if user.is_authenticated %}
                    <div class="nav-link text-black align-right" style="font-size: 24px" role="alert">
                        <strong>Welcome {{ user.userprofile.first_name }} {{ user.userprofile.last_name }}</strong>
                    </div>
                    {% endif %}
                </li>
            </ul>
</nav>

<nav class="one-edge-shadow sticky-top navbar navbar-expand-lg navbar-light menu custom-justify-between">
    <a href="{% url 'index' %}" class="logo">
        <img src="{% static 'images/logo.png' %}" alt="WWHG" style="width: 160px; height: auto;">
    </a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <nav class="navbar-nav custom-justify-between">
                        {% for category in categories %}
                        <a class="nav-link custom-button-b text-grey" href="{% url 'all_products' category.id %}" style="font-size: 40px">{{ category.name }} <span class="sr-only">(current)</span></a>
                        {% endfor %}
                    </nav>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="#"> <span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link text-black" href="/cart" style="font-size: 24px">Cart
                        <span class="badge badge-info text-black">{{ shopping_cart.get_cart_items }}</span>
                        <span class="sr-only text-black">(current)</span>
                    </a>
                </li>
                {% if user.is_authenticated %}
                <li class="nav-item">
                    <a class="nav-link text-black" href="/edit_profile" style="font-size: 24px">Profile<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-black" href="/logout" style="font-size: 24px">Logout<span class="sr-only">(current)</span></a>
                </li>
                {% else %}
                <li class="nav-item">
                    <a class="nav-link text-black" href="/register" style="font-size: 24px">Signup<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-black" href="/login" style="font-size: 24px">Login<span class="sr-only">(current)</span></a>
                </li>
                {% endif %}
            </ul>
        </div>
</nav>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.querySelector('form');
            const searchInput = document.getElementById('search-input');

            form.addEventListener('submit', function (e) {
                e.preventDefault();

                const query = searchInput.value;

                // Perform an AJAX request with the search query
                // You can use fetch or other AJAX libraries for this
                // Example: fetch(`/search?q=${query}`)
            });
        });
    </script>
</body>
</html>

{% block content %}

{% endblock content %}

<footer class="text-center text-white" style="background-color: #f1f1f1;">
    <div class="text-center text-white p-3" style="background-color: #003580">
        Â© 2023 Copyright:
        <a class="text-white" href="/wwhg_site/static">WWHG.com</a>
    </div>
</footer>
